<div class="card bg-white shadow-2 border-round">
    <div class="flex justify-content-between">
        <h5>{{ title }}</h5>
    </div>
    <hr>

    <form [formGroup]="registerForm">
        <div class="grid">
            <div class="col-12 md:col-6 lg:col-6 ">
                <div class="field mb-4">
                    <label for="username" class="block text-600 font-medium mb-2">Username</label>
                    <input id="username" type="text" formControlName="username"
                        class="w-full p-inputtext p-component border-round" required>
                    <div *ngIf="registerForm.get('username')?.touched && registerForm.get('username')?.invalid">
                        <small *ngIf="registerForm.get('username')?.errors?.['required']" class="p-error">
                            Username is required.
                        </small>
                        <small *ngIf="registerForm.get('username')?.errors?.['minlength']" class="p-error">
                            Minimum 3 characters required.
                        </small>
                    </div>
                </div>

                <div class="field mb-4">
                    <label for="email" class="block text-600 font-medium mb-2">Email</label>
                    <input id="email" type="email" formControlName="email"
                        class="w-full p-inputtext p-component border-round" required>
                    <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
                        <small *ngIf="registerForm.get('email')?.errors?.['required']" class="p-error">
                            Email is required.
                        </small>
                        <small *ngIf="registerForm.get('email')?.errors?.['email']" class="p-error">
                            Invalid email address.
                        </small>
                    </div>
                </div>

                <div class="field mb-4">
                    <label for="password" class="block text-600 font-medium mb-2">Password</label>
                    <input id="password" type="password" formControlName="password"
                        class="w-full p-inputtext p-component border-round" required>
                    <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
                        <small *ngIf="registerForm.get('password')?.errors?.['required']" class="p-error">
                            Password is required.
                        </small>
                        <small *ngIf="registerForm.get('password')?.errors?.['minlength']" class="p-error">
                            Password must be at least 6 characters long.
                        </small>
                        <small *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']"
                            class="p-error">
                            Passwords do not match.
                        </small>
                    </div>
                </div>

                <div class="field mb-4">
                    <label for="confirmPassword" class="block text-600 font-medium mb-2">Confirm Password</label>
                    <input id="confirmPassword" type="password" formControlName="confirmPassword"
                        class="w-full p-inputtext p-component border-round" required>
                    <div
                        *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid">
                        <small *ngIf="registerForm.get('confirmPassword')?.errors?.['required']" class="p-error">
                            Confirm Password is required.
                        </small>
                        <small *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']"
                            class="p-error">
                            Passwords do not match.
                        </small>
                    </div>
                </div>
            </div>
            <div class="col-12 md:col-6 lg:col-6 ">
                <div class="field mb-4">
                    <label for="confirmPassword" class="block text-600 font-medium mb-2">Role</label>
                    <app-lov [chaining]="true" uri="roles" label="choose role" (selected)="onSelectRole($event)"
                    [styleClass]="
                    'ext-base text-color surface-overlay border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full'
                " [ngClass]="{
                    'border-red': registerForm.get('roleId')?.invalid &&
                    (registerForm.get('roleId')?.dirty || registerForm.get('roleId')?.touched)
                }">
                    </app-lov>
                    <small *ngIf="registerForm.get('roleId')?.invalid && registerForm.get('roleId')?.touched"
                        class="p-error">
                        Input role is required.
                    </small>
                </div>
            </div>
        </div>
    </form>
    <div class="flex gap-2 align-items-start justify-content-end my-2">
        <button pButton class="p-button-secondary" icon="pi pi-arrow-left" label="Back" (click)="onClose()"> </button>
        <button pButton class="p-button-primary" icon="fa-solid fa-save" label="Save" (click)="onSave()"> </button>
    </div>
</div>
