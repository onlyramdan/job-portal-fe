<div class="card bg-white shadow-2 border-round">
    <div class="flex justify-content-between">
        <h5>{{ title }}</h5>
        <button pButton class="p-button p-button-sm" type="button" label="Add" icon="fa fa-plus"
            (click)="onAdd()"></button>
    </div>
    <hr>
    <div class="flex flex-column my-2">
        <app-search (search)="onSearch($event)" [isFilter]="false">
        </app-search>
        <app-table #TableComponent [isSelectable]="false" [isStatus]="true" [columMap]="columMap" uri="users/pages"
            [kebabOption]="kebabOption" (action)="tableAction($event)">
        </app-table>
    </div>
</div>

<p-dialog [(visible)]="showDeleteModal" header="Confirm Deletion" [closable]="false" [modal]="true"
    [style]="{width: '400px'}">
    <p>Apakah yakin untuk hapus User ?<br><strong>{{ selectedUser?.username }}</strong></p>
    <div class="flex justify-content-end gap-2">
        <button pButton label="Cancel" icon="fa fa-times" class="p-button-secondary"
            (click)="showDeleteModal = false"></button>
        <button pButton label="Delete" icon="fa fa-trash" class="p-button-primay" (click)="onDeleteCompany()"></button>
    </div>
</p-dialog>


<p-dialog header="User Details" [(visible)]="detailModal" [style]="{ width: '40vw' }" [modal]="true" [closable]="false"
    [dismissableMask]="true">

    <div class="flex align-items-center gap-3 mb-4">
        <p-avatar label="{{ selectedUser?.username?.charAt(0).toUpperCase() }}" styleClass="mr-2" size="xlarge"
            shape="circle"></p-avatar>
        <div>
            <h2 class="text-900 font-medium m-0">Name : {{ selectedUser?.username }}</h2>
            <p class="text-700 m-0">Role : {{ selectedUser?.role }}</p>
        </div>
    </div>
    <div class="card p-3 border-round border-1">
        <ul class="list-none p-0 m-0">
            <li class="flex flex-column my-2">
                <span class="text-900">Contact Information</span>
                <div class="flex gap-2 my-1">
                    <span class="text-700 font-medium">Email:</span>
                    <span class="text-900">{{ selectedUser?.email }}</span>
                </div>
            </li>
            <li class="flex flex-column my-2">
                <span class="text-900">Status</span>
                <div class="flex gap-2 my-1">
                    <i class="fa" [ngClass]="{
                            'fa-check-circle': selectedUser?.isActive,
                            'fa-times-circle': !selectedUser?.isActive,
                            'text-success': selectedUser?.isActive,
                            'text-danger': !selectedUser?.isActive
                        }">
                    </i>
                    <span [ngClass]="{
                            'text-success': selectedUser?.isActive,
                            'text-danger': !selectedUser?.isActive
                        }">
                        {{ selectedUser?.isActive ? 'Active' : 'Inactive' }}
                    </span>
                </div>
            </li>
        </ul>
    </div>
    <div class="flex justify-content-end gap-2">
        <button pButton label="Close" class="p-button-secondary" (click)="detailModal = false"></button>
    </div>
</p-dialog>
