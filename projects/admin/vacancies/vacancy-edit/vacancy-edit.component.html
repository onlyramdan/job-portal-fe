<div class="card bg-white shadow-2 border-round">
    <h5>{{ title }}</h5>
    <hr>
    <form [formGroup]="editVacancyForm" (ngSubmit)="onUpdate()">
        <div class="grid">
            <div class="col-12 md:col-6 lg:col-6">
                <div class="field mb-3">
                    <label for="jobTitleId" class="block text-sm font-medium text-gray-700">Job Title</label>
                    <app-lov uri="job-title" label="Choose Job Title" [styleClass]="
                    'ext-base text-color surface-overlay border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full'"
                        (selected)="selectJob($event)"
                        [value]="this.editVacancyForm.get('jobTitleId').value"
                        >
                    </app-lov>
                    <small
                        *ngIf="editVacancyForm.get('jobTitleId')?.invalid && editVacancyForm.get('jobTitleId')?.touched"
                        class="p-error">
                        Job Title is required.
                    </small>
                </div>

                <div class="field mb-3">
                    <label for="locationId" class="block text-sm font-medium text-gray-700">Location</label>
                    <app-lov uri="locations" label="Choose Location" (selected)="selectLocation($event)"
                    [styleClass]="
                    'ext-base text-color surface-overlay border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full'"
                      [value]="this.editVacancyForm.get('locationId').value"
                    >
                    </app-lov>
                    <small
                        *ngIf="editVacancyForm.get('locationId')?.invalid && editVacancyForm.get('locationId')?.touched"
                        class="p-error">
                        Location is required.
                    </small>
                </div>

                <div class="field mb-3">
                    <label for="employeeTypeId" class="block text-sm font-medium text-gray-700">Employee Type</label>
                    <app-lov uri="employee-types" label="Choose Employee Type" (selected)="selectEmployeType($event)"
                    [styleClass]="
                    'ext-base text-color surface-overlay border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full'"
                    [value]="this.editVacancyForm.get('employeeTypeId').value"
                    >
                    </app-lov>
                    <small
                        *ngIf="editVacancyForm.get('employeeTypeId')?.invalid && editVacancyForm.get('employeeTypeId')?.touched"
                        class="p-error">
                        Employee Type is required.
                    </small>
                </div>
                <div class="field mb-3">
                    <label for="experienceLevelId" class="block text-sm font-medium text-gray-700">Experience Level</label>
                    <app-lov uri="experience-levels" label="Choose experience levels" (selected)="selectExperienceLevel($event)"
                    [styleClass]="
                    'ext-base text-color surface-overlay border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full'"
                     [value]="this.editVacancyForm.get('experienceLevelId').value"
                    >
                    </app-lov>
                    <small
                        *ngIf="editVacancyForm.get('experienceLevelId')?.invalid && editVacancyForm.get('experienceLevelId')?.touched"
                        class="p-error">
                        Experience Level is required.
                    </small>
                </div>
            </div>

            <div class="col-12 md:col-6 lg:col-6">
                <div class="field mb-3">
                    <label for="minSalary" class="block text-sm font-medium text-gray-700">Min Salary</label>
                    <input id="minSalary" type="number" formControlName="minSalary" pInputText
                        class="w-full border-round p-2" placeholder="Enter Min Salary" />
                    <small
                        *ngIf="editVacancyForm.get('minSalary')?.invalid && editVacancyForm.get('minSalary')?.touched"
                        class="p-error">
                        Min Salary is required.
                    </small>
                </div>

                <div class="field mb-3">
                    <label for="maxSalary" class="block text-sm font-medium text-gray-700">Max Salary</label>
                    <input id="maxSalary" type="number" formControlName="maxSalary" pInputText
                        class="w-full border-round p-2" placeholder="Enter Max Salary" />
                    <small
                        *ngIf="editVacancyForm.get('maxSalary')?.invalid && editVacancyForm.get('maxSalary')?.touched"
                        class="p-error">
                        Max Salary is required.
                    </small>
                </div>

                <div class="field mb-3">
                    <label for="applicationDeadline" class="block text-sm font-medium text-gray-700">Application Deadline</label>
                    <p-calendar id="applicationDeadline" formControlName="applicationDeadline" class="w-full"></p-calendar>
                    <small
                        *ngIf="editVacancyForm.get('applicationDeadline')?.invalid && editVacancyForm.get('applicationDeadline')?.touched"
                        class="p-error">
                        Application Deadline is required.
                    </small>
                </div>

                <div class="field mb-3">
                    <label for="overview" class="block text-sm font-medium text-gray-700">Overview</label>
                    <textarea id="overview" rows="3" formControlName="overview" pInputTextarea
                        class="w-full border-round p-2" placeholder="Enter Overview"></textarea>
                    <small *ngIf="editVacancyForm.get('overview')?.invalid && editVacancyForm.get('overview')?.touched"
                        class="p-error">
                        Overview is required.
                    </small>
                </div>
            </div>
        </div>

        <div class="flex justify-content-end align-items-center gap-2">
            <button pButton label="Back" icon="fa fa-arrow-left" type="button" class="p-button-secondary" (click)="onBack()"></button>
            <button pButton label="Update" icon="fa fa-save" type="submit" class="p-button-primary"></button>
        </div>
    </form>
</div>
